<div class="movie-edit-form">
  <form novalidate [formGroup]="formGroup">
    <div class="form__group">
      <div class="form__input">
        <app-input
          [placeholder]="'Название'"
          formControlName="title"
        ></app-input>
      </div>
      <div class="form__errors" *ngIf="isInvalidControl('title')">
        <span class="form__error" *ngIf="getErrorsControl('title').required">{{validationMessage.required}}</span>
      </div>

    </div>
    <div class="form__group">
      <div class="form__input">
        <app-input
          [placeholder]="'Год'"
          formControlName="year"
        ></app-input>
      </div>
      <div class="form__errors" *ngIf="isInvalidControl('year')">
        <span class="form__error" *ngIf="getErrorsControl('year').required">{{validationMessage.required}}</span>
      </div>

    </div>
    <div class="form__group">
      <div class="form__input">
        <app-input
          [placeholder]="'Страна'"
          formControlName="country"
        ></app-input>
      </div>
      <div class="form__errors" *ngIf="isInvalidControl('country')">
        <span class="form__error" *ngIf="getErrorsControl('country').required">{{validationMessage.required}}</span>
      </div>
    </div>
    <div class="form__group">
      <div class="form__input">
        <app-input
          [placeholder]="'Жанр'"
          formControlName="genre"
        ></app-input>
      </div>
      <div class="form__errors" *ngIf="isInvalidControl('genre')">
        <span class="form__error" *ngIf="getErrorsControl('genre').required">{{validationMessage.required}}</span>
      </div>
    </div>
    <div class="form__group">
      <div class="form__input">
        <app-input
          [placeholder]="'Ссылка на изображение'"
          formControlName="preview">
        </app-input>
      </div>
      <div class="form__errors" *ngIf="isInvalidControl('preview')">
        <span class="form__error" *ngIf="getErrorsControl('preview').required">{{validationMessage.required}}</span>
      </div>
    </div>
    <div class="form__group">
      <div class="form__input">
        <ckeditor
          [editor]="Editor"
          formControlName="description"
        ></ckeditor>
      </div>
      <div class="form__errors" *ngIf="isInvalidControl('description')">
        <span class="form__error" *ngIf="getErrorsControl('description').required">{{validationMessage.required}}</span>
      </div>
    </div>
    <div class="form__group">
      <div class="form__input">
        <app-file-input
          formControlName="file"
          accept="image/jpeg,image/png"
        ></app-file-input>
      </div>
      <div class="form__errors" *ngIf="isInvalidControl('file')">
        <span class="form__error" *ngIf="getErrorsControl('file').required">{{validationMessage.custom('Загрузите изображение')}}</span>
        <span class="form__error" *ngIf="getErrorsControl('file').maxSize">{{validationMessage.custom('Размер изображения не должен превышать N Мб')}}</span>
      </div>
    </div>
  </form>
  <div class="modal__controls">
    <app-btn class="modal__control modal__control--submit" text="Сохранить" (onClick)="onSave()" [wait]="saving" [disabled]="isSaveBtnDisabled()"></app-btn>
    <app-btn class="modal__control modal__control--cancel" [type]="'text'" text="Отмена" (onClick)="onClose()" [disabled]="saving"></app-btn>
  </div>
</div>
